webpackJsonp([7],{QSFB:function(t,e){},SIKP:function(t,e){},a2vD:function(t,e,i){"use strict";e.a=function(t,e){var i,a,e=e||200;return function(){var s=this,n=arguments,o=+new Date;i&&o-i<e?(clearTimeout(a),a=setTimeout(function(){i=o,t.apply(s,n)},e)):(i=o,t.apply(s,n))}}},dAjm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("gyMJ"),s=i("+yxM"),n=i("Mitt"),o=(i("Y4TK"),i("Fd2+")),r={methods:{getHomePage(){this.$router.push({path:"/"})},getLivePage(){const t=this;mc.userGetInfo(function(e){if(1==e.state){const i=e.data.id,a=e.data.changyanUserId,s=e.data.nickname;localStorage.setItem("userAccount",i),localStorage.setItem("changyanUserId",a),localStorage.setItem("nickname",s),t.$router.push({path:"/live"})}else 0==e.state&&o.b.confirm({title:"请先登录",message:"登录后记得在设备页面绑定哦"}).then(()=>{mc.userLogin(function(t){})}).catch(()=>{})})},getActivePage(){this.$router.push({path:"/active"})}},data:()=>({})},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"foot"},[i("ul",[i("li",{staticClass:"home active",on:{click:function(e){return t.getHomePage()}}},[t._m(0)]),t._v(" "),i("li",{staticClass:"live",on:{click:function(e){return t.getLivePage()}}},[t._m(1)]),t._v(" "),i("li",{staticClass:"myCenter",on:{click:function(e){return t.getActivePage()}}},[t._m(2),t._v(" "),i("p",{staticStyle:{color:"rgb(195,195,195)","font-size":"0.7rem"}},[t._v("活动")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i")])}]};var l=i("VU/8")(r,c,!1,function(t){i("QSFB")},"data-v-476ae582",null).exports,d=i("a2vD"),m=(i("v2ns"),i("7QTg")),u={name:"Index",components:{floatPage:s.a,Header:n.a,Footer:l,swiper:m.swiper,swiperSlide:m.swiperSlide},data:()=>({activeId:"recommed",categoryList:[{}],hotTitle1:"",hotTitle2:"",hotTitle3:"",mediasList1:[{}],mediasList2:[{}],mediasList3:[{}],showHide:!0,orderState:!0,showBanner:!1,mediaName:"",userMac:"",defaultUrl:'this.src="'+i("11cb")+'";this.onerror=null',swiperOption:{notNextTick:!0,autoplay:0,initialSlide:0,fadeEffect:{crossFade:!1},direction:"horizontal",grabCursor:!0,autoplayDisableOnInteraction:!0},banner:[{image_url:"",link:""}]}),created(){this.getInit()},beforeRouteEnter(t,e,i){i(t=>{e.name||t.$store.commit("setBackType","2")})},methods:{async getInit(){mc.hiddenNativeBackBtnjs(function(t){});const t={};a.a.c2mList.getBannersList(t).then(t=>{t.data.length>0?t.data.forEach((t,e)=>{"activity_vote"==t.bannerType&&(this.showBanner=!1,this.banner[e].image_url="https://iptv.hbtv.com.cn/static/"+t.bannerImg,this.banner[e].link="http://res.cjyun.org/t/common/app/iptv/#/vote/?id="+t.voteId)}):this.showBanner=!1}).catch(t=>{console.log("错误信息"),console.log(t)}),a.a.c2mList.getC2mList(t).then(t=>{this.categoryList=t.data}).catch(t=>{console.log("错误信息"),console.log(t)}),a.a.c2mList.getTipList(t).then(t=>{const e=t.data;this.hotTitle1=e[0].title,this.hotTitle2=e[1].title,this.hotTitle3=e[2].title,this.mediasList1=e[0].medias,this.mediasList2=e[1].medias,this.mediasList3=e[2].medias}).catch(t=>{console.log("错误信息"),console.log(t)});const e=localStorage.getItem("userAccount");a.a.c2mList.getUserInfo(e).then(t=>{if(null!==t.data&&t.data.hasOwnProperty("userMac")){const e=t.data.iptvAccount,i=t.data.iptvOperator;localStorage.setItem("iptvAccount",e),localStorage.setItem("iptvOperator",i)}null==t.data&&(localStorage.removeItem("iptvAccount"),localStorage.removeItem("iptvOperator"))}).catch(t=>{console.log(t)}),this.swiperOption.autoplay=1!=this.banner.length&&{delay:1500,stopOnLastSlide:!1,disableOnInteraction:!1}},goActive(t){window.location.href=t},inputFunc(){if(13==event.keyCode){event.preventDefault();const t={searchName:this.mediaName,page:1,pageSize:10};a.a.c2mList.getSearchList({params:t}).then(t=>{if(200==t.code){const e=t.data.list;localStorage.setItem("searchList",JSON.stringify(e)),this.$router.push({path:"/searchList"})}else this.$toast(t.message)}).catch(t=>{console.log(t)})}},getMeidaData:Object(d.a)(function(t){localStorage.getItem("userAccount");const e={categoryIds:t,page:1,pageSize:50};a.a.c2mList.getMeidaList({params:e}).then(e=>{if("recommed"==t){const e={};a.a.c2mList.getTipList(e).then(e=>{this.activeId=t,this.showHide=!0;const i=e.data;this.hotTitle1=i[0].title,this.hotTitle2=i[1].title,this.hotTitle3=i[2].title,this.mediasList1=i[0].medias,this.mediasList2=i[1].medias,this.mediasList3=i[2].medias}).catch(t=>{console.log("错误信息"),console.log(t)})}else this.mediasList3=e.data.list,this.showHide=!1,this.activeId=t}).catch(t=>{console.log("错误信息"),console.log(t)})},200),getDetailsData:Object(d.a)(function(t){this.$router.push({path:"/details",query:{id:t}})},200),getBind(){const t=this;mc.userGetInfo(function(e){if(1==e.state){const i=e.data.id,a=e.data.changyanUserId,s=e.data.nickname;localStorage.setItem("userAccount",i),localStorage.setItem("changyanUserId",a),localStorage.setItem("nickname",s),i&&t.$router.push({path:"/userBind"})}else 0==e.state&&o.b.confirm({title:"请先登录",message:"登录后记得在设备页面绑定哦"}).then(()=>{mc.userLogin(function(t){})}).catch(()=>{})})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Header"),t._v(" "),i("div",{staticClass:"scroll-box"},[i("div",{staticClass:"search-box"},[i("div",{staticClass:"s-left"},[i("i",{staticClass:"search-icon"}),t._v(" "),i("form",{attrs:{action:"javascript:void 0"},on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mediaName,expression:"mediaName"}],attrs:{id:"media-input",type:"search",placeholder:"搜索"},domProps:{value:t.mediaName},on:{keypress:t.inputFunc,input:function(e){e.target.composing||(t.mediaName=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"s-right",on:{click:function(e){return t.getBind()}}},[i("i",{staticClass:"qcode-icon"})])]),t._v(" "),i("div",{staticClass:"nav"},[i("ul",{staticClass:"tab-head"},[i("li",{class:{active:"recommed"==t.activeId},on:{click:function(e){return t.getMeidaData("recommed")}}},[t._v("推荐")]),t._v(" "),t._l(t.categoryList,function(e){return i("li",{key:e.id,class:{active:e.id==t.activeId},on:{click:function(i){return t.getMeidaData(e.id)}}},[t._v(t._s(e.name))])})],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showHide&&t.showBanner,expression:"showHide && showBanner"}],staticClass:"banners-box"},[i("div",{staticClass:"container-swiper"},[i("swiper",{attrs:{options:t.swiperOption}},t._l(t.banner,function(e,a){return i("swiper-slide",{key:a},[i("a",{attrs:{href:"javascript:void(0);",target:"_blank",rel:"noopener noreferrer"},on:{click:function(i){return t.goActive(e.link)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image_url,expression:"item.image_url"}],staticClass:"swiper-img"})])])}),1)],1)]),t._v(" "),i("div",{staticClass:"tuijian"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showHide,expression:"showHide"}],staticClass:"live-hot"},[i("h2",{staticStyle:{"margin-top":"1rem"}},[t._v(t._s(t.hotTitle1))]),t._v(" "),i("ul",{staticClass:"hot-list"},t._l(t.mediasList1,function(e,a){return i("li",{key:e.id,on:{click:function(i){return t.getDetailsData(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.mediasList1[a].thumbnail?t.mediasList1[a].thumbnail:t.defaultUrl,expression:"mediasList1[index].thumbnail?mediasList1[index].thumbnail:defaultUrl"}],attrs:{onerror:t.defaultUrl}}),t._v(" "),i("p",[t._v(t._s(t.mediasList1[a].name))])])}),0)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showHide,expression:"showHide"}],staticClass:"live-hot"},[i("h2",[t._v(t._s(t.hotTitle2))]),t._v(" "),i("ul",{staticClass:"hot-list"},t._l(t.mediasList2,function(e,a){return i("li",{key:e.id,on:{click:function(i){return t.getDetailsData(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.mediasList2[a].thumbnail?t.mediasList2[a].thumbnail:t.defaultUrl,expression:"mediasList2[index].thumbnail?mediasList2[index].thumbnail:defaultUrl"}],attrs:{onerror:t.defaultUrl}}),t._v(" "),i("p",[t._v(t._s(t.mediasList2[a].name))])])}),0)]),t._v(" "),i("div",{staticClass:"live-hot"},[i("h2",{directives:[{name:"show",rawName:"v-show",value:t.showHide,expression:"showHide"}]},[t._v(t._s(t.hotTitle3))]),t._v(" "),i("ul",{staticClass:"hot-list"},t._l(t.mediasList3,function(e,a){return i("li",{key:e.id,on:{click:function(i){return t.getDetailsData(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.mediasList3[a].thumbnail?t.mediasList3[a].thumbnail:t.defaultUrl,expression:"mediasList3[index].thumbnail?mediasList3[index].thumbnail:defaultUrl"}],attrs:{onerror:t.defaultUrl}}),t._v(" "),i("p",[t._v(t._s(t.mediasList3[a].name))])])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),i("div",{staticClass:"float-contr",attrs:{id:"float-contr"}},[i("float-page")],1),t._v(" "),i("Footer")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"myBottom"},[e("span",[this._v("———— 我是有底线的~ ————")])])}]};var v=i("VU/8")(u,h,!1,function(t){i("SIKP")},"data-v-617f201b",null);e.default=v.exports}});